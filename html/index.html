<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<link type="text/css" rel="stylesheet" href="./css/bootstrap.css"/>
	<link type="text/css" rel="stylesheet" href="./css/bootstrap-responsive.css"/>
	<link type="text/css" rel="stylesheet" href="./css/custom.css"/>
</head>
<body>

<div class="container-fluid" >
<div class="navbar navbar-fixed-top span3" >

<h4 id="summary">Summary</h4>

<hr />
<div class="well" >

<ul>
<li><a href="#deviceAPI">Device API</a>

<ul>
<li><a href="#status">Status</a></li>
<li><a href="#devices">Devices</a></li>
</ul></li>
</ul>
</div>

<p></div></p>
<div class="row-fluid" >
<div class="span3" ></div>
<div class="span9" >
<div class="page-header" >

<h2 id="dogrestapi-documentation">Dog RestAPI - Documentation</h2>
</div>

<p>The Dog RestAPI allows developers to easily integrate home and building automation into their applications, be they web applications, smartphone (Android, iOS) apps or standalone programs.</p>

<p>APIs allow to:</p>

<ul>
<li>manage connected devices

<ul>
<li>query the gateway about installed devices, their location, functionalities and configurations;</li>
<li>require execution of commands to existing devices;</li>
<li><a href="#status">monitor device statuses and measures in real-time</a>;</li>
<li>add, modify or update the set of devices controlled through the gateway;</li>
</ul></li>
<li>manage rules and automation scenarios

<ul>
<li>insert, update, modify or delete automation rules;</li>
<li>insert, update, modify or delete scenarios.</li>
</ul></li>
<li>monitor the home/building performance

<ul>
<li>historical information on consumptions;</li>
<li>historical information on activations;</li>
<li>related statistics.</li>
</ul></li>
<li>manage Dog

<ul>
<li>manage system performance</li>
<li>manage system updates</li>
<li>troubleshoot problems</li>
</ul></li>
</ul>

<hr />

<h3 id="deviceAPI">Device API</h3>

<hr />
</div>
</div>
<div class="row-fluid" >
<div class="span3" ></div>
<div class="span6" >

<h4 id="status">Resource /devices/status</h4>

<p><em>Updated on Thu, 2013&#8211;09&#8211;05</em> <span class="label label-info pull-right">API version 1.0</span></p>

<p>Represents the status of devices registered in the Dog gateway runtime, i.e., defined in the Dog [configuration][devicesConfiguration] and successfully registered within the gateway runtime.</p>

<p><strong>URL:</strong> /devices/status</p>

<table>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">Method</th>
	<th style="text-align:left;">Description</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">GET</td>
	<td style="text-align:left;">List the current status of all devices actually managed by the Dog gateway, i.e. defined in the Dog configuration and registered within the gateway runtime, be they active or not</td>
</tr>
</tbody>
</table>

<p><strong>Example Request</strong></p>

<pre><code>GET http://www.mydog.com/devices/status
</code></pre>

<p><strong>Example Response</strong></p>

<pre><code>{
&quot;devices&quot;:[
    {
        &quot;uri&quot; : &quot;Lamp1&quot;,
        &quot;description&quot; : &quot; The lamp over the closet near to the livingroom armchair&quot;,
        &quot;active&quot; : true,
        &quot;status&quot;:[
            {
                &quot;OnOffstate&quot; : &quot;on&quot;
            }
        ]
    }
    ,
    {
        &quot;uri&quot; : &quot;Plug_h725&quot;,
        &quot;description&quot;:&quot; The smart plug driving the dishwasher&quot;,
        &quot;active&quot;: true,
        &quot;status&quot;: [
            {
                &quot;OnOffState&quot; : &quot;on&quot;
            }
            ,
            {
                &quot;SinglePhaseActivePowerMeasurementState&quot;:&quot;53.487 W&quot;
            }
            ,
            {
                &quot;SinglePhaseActiveEnergyState&quot;:&quot;7.543 kWh&quot;
            }
        ]
    }
    ,
    {
        &quot;uri&quot; : &quot;Meter_1&quot;,
        &quot;description&quot;:&quot; The  utility meter&quot;,
        &quot;active&quot;: true,
        &quot;status&quot;: [
            {
                &quot;ThreePhaseActiveEnergyState&quot;:[
                    {
                        &quot;phaseID&quot; : &quot;L1&quot;,
                        &quot;value&quot; : &quot;345.32 kWh&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L2&quot;,
                        &quot;value&quot; : &quot;237.56 kWh&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L3&quot;,
                        &quot;value&quot; : &quot;305.23 kWh&quot;
                    }
                ]
            }
            ,
            {
                &quot;ThreePhaseActivePowerMeasurementState&quot;:[
                    {
                        &quot;phaseID&quot; : &quot;L1&quot;,
                        &quot;value&quot; : &quot;3000 W&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L2&quot;,
                        &quot;value&quot; : &quot;2573.08 W&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L3&quot;,
                        &quot;value&quot; : &quot;1000,40 W&quot;
                    }
                ]
            }
            ,
            {
                &quot;ThreePhaseApparentPowerMeasurementState&quot;:[
                    {
                        &quot;phaseID&quot; : &quot;L1&quot;,
                        &quot;value&quot; : &quot;3000 Va&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L2&quot;,
                        &quot;value&quot; : &quot;2573.08 Va&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L3&quot;,
                        &quot;value&quot; : &quot;1000,40 Va&quot;
                    }
                ]
            }
            ,
            {
                &quot;ThreePhaseCurrentState&quot;:[
                    {
                        &quot;phaseID&quot; : &quot;L1&quot;,
                        &quot;value&quot; : &quot;8,758 A&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L2&quot;,
                        &quot;value&quot; : &quot;7.511 A&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L3&quot;,
                        &quot;value&quot; : &quot;2.919 A&quot;
                    }
                ]
            }
            ,
            {
                &quot;ThreePhaseReactivePowerMeasurementState&quot;:[
                    {
                        &quot;phaseID&quot; : &quot;L1&quot;,
                        &quot;value&quot; : &quot;333 Varh&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L2&quot;,
                        &quot;value&quot; : &quot;257,3 Varh&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L3&quot;,
                        &quot;value&quot; : &quot;98,57 Varh&quot;
                    }
                ]
            }
            ,
            {
                &quot;ThreePhaseVoltageState&quot;:[
                    {
                        &quot;phaseID&quot; : &quot;L12&quot;,
                        &quot;value&quot; : &quot;380 V&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L23&quot;,
                        &quot;value&quot; : &quot;380 V&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L31&quot;,
                        &quot;value&quot; : &quot;380 V&quot;
                    }
                ]
            }
            ,
            {
                &quot;ThreePhaseVoltageState&quot;:[
                    {
                        &quot;phaseID&quot; : &quot;L1N&quot;,
                        &quot;value&quot; : &quot;220 V&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L2N&quot;,
                        &quot;value&quot; : &quot;220 V&quot;
                    }
                    ,
                    {
                        &quot;phaseID&quot; : &quot;L3N&quot;,
                        &quot;value&quot; : &quot;220 V&quot;
                    }
                ]
            }
            ,
            {
                &quot;SinglePhaseActivePowerMeasurementState&quot;:&quot;6873,48 W&quot;
            }
            ,
            {
                &quot;SinglePhaseActiveEnergyState&quot;:&quot;888.11 kWh&quot;
            }
            ,
            {
                &quot;SinglePhaseReactiveEnergyState&quot;:&quot;888.11 kWh&quot;
            }
            ,
            {
                &quot;FrequencyMeasurementState&quot;:&quot;888.11 kWh&quot;
            }
            ,
            {
                &quot;PowerFactorMeasurementState&quot; : &quot;0.9&quot;
            }

        ]
    }
]
}
</code></pre>

<p></div>
<div class="span3" >
<div class="well" ></p>

<h4 id="resourceinformation">Resource Information</h4>

<table>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Authentication</td>
	<td style="text-align:left;"><strong>Requires app key</strong></td>
</tr>
<tr>
	<td style="text-align:left;">Response Format</td>
	<td style="text-align:left;"><strong>json</strong></td>
</tr>
<tr>
	<td style="text-align:left;">HTTP Methods</td>
	<td style="text-align:left;"><strong>GET</strong></td>
</tr>
<tr>
	<td style="text-align:left;">Resource family</td>
	<td style="text-align:left;"><strong>statuses</strong></td>
</tr>
<tr>
	<td style="text-align:left;">Response Object</td>
	<td style="text-align:left;"><strong>Array [ DeviceState ]</strong></td>
</tr>
<tr>
	<td style="text-align:left;">API Version</td>
	<td style="text-align:left;"><strong>v1.0</strong></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="row-fluid" >
<div class="span3" >
</div>
<div class="span9" >

<hr />
</div>
</div>
<div class="row-fluid" >
<div class="span3" ></div>
<div class="span6" >

<h4 id="devices">Resource /devices</h4>

<p><em>Updated on Thu, 2013&#8211;09&#8211;05</em> <span class="label label-info pull-right">API version 1.0</span></p>

<p>Represents domotic devices handled by Dog and &#8220;controllable&#8221; by applications using this API. </p>

<p><strong>URL:</strong> /devices</p>

<table>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">Method</th>
	<th style="text-align:left;">Description</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">GET</td>
	<td style="text-align:left;">List all devices (with their details) used by the Dog gateway</td>
</tr>
</tbody>
</table>

<p><strong>Example Request</strong></p>

<pre><code>GET http://www.mydog.com/devices/status
</code></pre>

<p><strong>Example Response (JSON)</strong></p>

<p><strong>Example Response (XML)</strong></p>

<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
    &lt;dhc:dogHomeConfiguration&gt;
        &lt;dhc:buildingEnvironment&gt;
            &lt;dhc:building name=&quot;SimpleHome&quot;&gt;
                &lt;dhc:flat class=&quot;Flat&quot; svgfootprint=&quot;simple_home.svg&quot; name=&quot;Flat&quot;&gt;
                    &lt;dhc:room class=&quot;Kitchen&quot; name=&quot;kitchen&quot;&gt;
                        &lt;dhc:ceiling class=&quot;Ceiling&quot; name=&quot;Ceiling_kitchen&quot;/&gt;
                        &lt;dhc:floor class=&quot;Floor&quot; name=&quot;Floor_kitchen&quot;/&gt;
                        &lt;dhc:wall class=&quot;Wall&quot; name=&quot;Wall_kitchen_south&quot;/&gt;
                        &lt;dhc:wall class=&quot;Wall&quot; name=&quot;Wall_kicthen_west&quot;&gt;
                            &lt;dhc:hasWallOpening class=&quot;Window&quot; name=&quot;Window_w4_kitchen&quot;/&gt;
                        &lt;/dhc:wall&gt;
                        &lt;dhc:wall class=&quot;Wall&quot; name=&quot;Wall_kitchen_storage_lobby&quot;/&gt;
                        &lt;dhc:wall class=&quot;Wall&quot; name=&quot;Wall_kitchen_lobby&quot;&gt;
                            &lt;dhc:hasWallOpening class=&quot;Door&quot; name=&quot;Door_kitchen_lobby&quot;/&gt;
                        &lt;/dhc:wall&gt;
                        &lt;dhc:wall class=&quot;Wall&quot; name=&quot;Wall_kitchen_livingroom&quot;&gt;
                            &lt;dhc:hasWallOpening class=&quot;Door&quot; name=&quot;Door_kitchen_living&quot;/&gt;
                        &lt;/dhc:wall&gt;
                    &lt;/dhc:room&gt;
                &lt;/dhc:flat&gt;
            &lt;/dhc:building&gt;
    &lt;/dhc:buildingEnvironment&gt;
    &lt;dhc:controllables&gt;
        &lt;dhc:device domoticSystem=&quot;ELITE&quot; name=&quot;oven1&quot; class=&quot;ElectricalOven&quot;&gt;
            &lt;dhc:description&gt;A ElectricalOven instance named oven1&lt;/dhc:description&gt;
            &lt;dhc:isIn&gt;kitchen&lt;/dhc:isIn&gt;
            &lt;dhc:pluggedIn&gt;MainsPowerOutlet_p12_kitchen&lt;/dhc:pluggedIn&gt;
            &lt;dhc:controlFunctionality class=&quot;OnOffFunctionality&quot;&gt;
                &lt;dhc:commands&gt;
                    &lt;dhc:command name=&quot;on&quot; class=&quot;OnCommand&quot;/&gt;
                    &lt;dhc:command name=&quot;off&quot; class=&quot;OffCommand&quot;/&gt;
                &lt;/dhc:commands&gt;
            &lt;/dhc:controlFunctionality&gt;
            &lt;dhc:controlFunctionality class=&quot;QueryFunctionality&quot;&gt;
                &lt;dhc:commands&gt;
                    &lt;dhc:command name=&quot;getState&quot; class=&quot;GetCommand&quot;/&gt;
                &lt;/dhc:commands&gt;
            &lt;/dhc:controlFunctionality&gt;
            &lt;dhc:notificationFunctionality class=&quot;StateChangeNotificationFunctionality&quot;&gt;
                &lt;dhc:notifications&gt;
                    &lt;dhc:notification name=&quot;stateChanged&quot; class=&quot;StateChangeNotification&quot;&gt;
                        &lt;dhc:param type=&quot;State&quot; name=&quot;notificationParamName&quot;/&gt;
                    &lt;/dhc:notification&gt;
                        &lt;/dhc:notifications&gt;
                    &lt;/dhc:notificationFunctionality&gt;
                    &lt;dhc:state class=&quot;OnOffState&quot;&gt;
                        &lt;dhc:statevalues&gt;
                            &lt;dhc:statevalue name=&quot;off&quot; class=&quot;OffStateValue&quot;/&gt;
                            &lt;dhc:statevalue name=&quot;on&quot; class=&quot;OnStateValue&quot;/&gt;
                        &lt;/dhc:statevalues&gt;
                    &lt;/dhc:state&gt;
                &lt;/dhc:device&gt;
                &lt;dhc:device domoticSystem=&quot;KONNEX&quot; name=&quot;MainsPowerOutlet_p12_kitchen&quot; class=&quot;MainsPowerOutlet&quot;&gt;
                    &lt;dhc:description&gt;A MainsPowerOutlet instance named MainsPowerOutlet_p12_kitchen&lt;/dhc:description&gt;
                    &lt;dhc:isIn&gt;kitchen&lt;/dhc:isIn&gt;
                    &lt;dhc:hasMeter&gt;energy_meter_1&lt;/dhc:hasMeter&gt;
                    &lt;dhc:controlFunctionality class=&quot;OnOffFunctionality&quot;&gt;
                        &lt;dhc:commands&gt;
                            &lt;dhc:command name=&quot;on&quot; class=&quot;OnCommand&quot;/&gt;
                            &lt;dhc:command name=&quot;off&quot; class=&quot;OffCommand&quot;/&gt;
                        &lt;/dhc:commands&gt;
                    &lt;/dhc:controlFunctionality&gt;
                    &lt;dhc:notificationFunctionality class=&quot;StateChangeNotificationFunctionality&quot;&gt;
                        &lt;dhc:notifications&gt;
                            &lt;dhc:notification name=&quot;stateChanged&quot; class=&quot;StateChangeNotification&quot;&gt;
                                &lt;dhc:param type=&quot;State&quot; name=&quot;notificationParamName&quot;/&gt;
                            &lt;/dhc:notification&gt;
                        &lt;/dhc:notifications&gt;
                    &lt;/dhc:notificationFunctionality&gt;
                    &lt;dhc:state class=&quot;OnOffState&quot;&gt;
                        &lt;dhc:statevalues&gt;
                            &lt;dhc:statevalue name=&quot;on&quot; class=&quot;OnStateValue&quot;/&gt;
                            &lt;dhc:statevalue name=&quot;off&quot; class=&quot;OffStateValue&quot;/&gt;
                        &lt;/dhc:statevalues&gt;
                    &lt;/dhc:state&gt;
                &lt;/dhc:device&gt;
            &lt;/dhc:controllables&gt;
    &lt;/dhc:dogHomeConfiguration&gt;
</code></pre>

<p></div>
<div class="span3" >
<div class="well" ></p>

<h4 id="resourceinformation">Resource Information</h4>

<table>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Authentication</td>
	<td style="text-align:left;"><strong>Requires app key</strong></td>
</tr>
<tr>
	<td style="text-align:left;">Response Format</td>
	<td style="text-align:left;"><strong>json</strong> or <strong>xml</strong></td>
</tr>
<tr>
	<td style="text-align:left;">HTTP Methods</td>
	<td style="text-align:left;"><strong>GET</strong></td>
</tr>
<tr>
	<td style="text-align:left;">Resource family</td>
	<td style="text-align:left;"><strong>devices</strong></td>
</tr>
<tr>
	<td style="text-align:left;">Response Object</td>
	<td style="text-align:left;"><strong>Array [ Device ]</strong></td>
</tr>
<tr>
	<td style="text-align:left;">API Version</td>
	<td style="text-align:left;"><strong>v1.0</strong></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="row-fluid" >
<div class="span3" ></div>
<div class="span9" >

<hr />
</div>
</div>
<div class="row-fluid" >
<div class="span3" ></div>
<div class="span6" >

<h5 id="devicesConfiguration">Handling the gateway configuration</h5>

<p><em>URL:</em> /dog/configuration</p>

<table>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">Method</th>
	<th style="text-align:left;">Description</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">GET</td>
	<td style="text-align:left;">List all low-level device configurations used by the Dog gateway</td>
</tr>
<tr>
	<td style="text-align:left;">PUT</td>
	<td style="text-align:left;">Create / Update the set of low-level device configurations that Dog should manage. Any device configuration matching an already configured device replaces the existing configuration, whereas devices not being mentioned in the current Dog configurations are added, and deployed at runtime, i.e., made available to calling applications.</td>
</tr>
</tbody>
</table>

<p></div>
<div class="span3" >
<div class="well" ></p>

<h4 id="resourceinformation">Resource Information</h4>

<table>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Authentication</td>
	<td style="text-align:left;"><strong>Requires app key</strong></td>
</tr>
<tr>
	<td style="text-align:left;">Response Format</td>
	<td style="text-align:left;"><strong>json</strong></td>
</tr>
<tr>
	<td style="text-align:left;">HTTP Methods</td>
	<td style="text-align:left;"><strong>GET</strong></td>
</tr>
<tr>
	<td style="text-align:left;">Resource family</td>
	<td style="text-align:left;"><strong>statuses</strong></td>
</tr>
<tr>
	<td style="text-align:left;">Response Object</td>
	<td style="text-align:left;"><strong>DeviceStates</strong></td>
</tr>
<tr>
	<td style="text-align:left;">API Version</td>
	<td style="text-align:left;"><strong>v1.0</strong></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<script src="./js/jquery.js"></script>

<script src="./js/bootstrap.js"></script>

<script src="./js/ajax.js"></script>

</body>
</html>
